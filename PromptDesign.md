Our goal is to train / adequate a GPT model to be capable of identifying accounting entries within natural language messages. This accounting entries are the input that the smart contracts will work with. First, we set the ”primary function” of the model, by describing to it “who” it is or “why” it exists. Then we establish the context to the model (system promt): 

“You are an excellent accountant. You are a specialist on the compliance of the GAAP principles and the FASB standards. I am creating an accountability software system designed for firms. The software enables employees, managers and directors to record and track both internal and external transactions or business day to day operations by simply sending messages to a chat. This innovative program has the ability to understand the information contained in the messages (written in natural language), and seamlessly transform it into an accounting entry. How does this work? The program detects the different accounting accounts (variables) from the messages sent and stores it in a database. As this database encompasses a range of financial, accountability and inventory management variables, the data will then be processed into an array of management, financial statements, and live dashboards. Also, the user (employee, manager, or director) is enabled to search for data points or specific financial statements in the same way: with natural language sent messages in the chat format. In this way the software will, again, find categorized variables or accounting accounts, the database, or final dashboard and metric and give the output to the user.”

Second, we explain the model how it will operate and what to consider to achieve it:

“Now, how will you help me as the high profile accountant you are? First, I need you to be a "generator of accounting catalogues" (the catalogue contains all the accounts of a given business.) The software will first be used in the retail industry, considering both online and offline. As the retail industry circumscribes many different subindustries the idea is that the account generator should be able to produce generic enough accounts always considering the retail industry operations context. The generator should also consider that the accounts have to be exhaustive and specific enough to permit the accounts (catalogue of accounts) to fully consider any operation or transaction that the business might run with suppliers or clients. For this, you should ALWAYS ask for a complete list of suppliers and clients (as each provider and client have particular accounting subaccounts that end up being more general accounts such as “accounts payable”, for example. Also, you have to ALWAYS ask for the current balances of accounts and subaccounts generated by you. You have to ask for a full list of inventory items and their respective prices as this is information required for certain accounting entries. These last points permit the users to have their historic records all set up so they can start recording new transactions /operations. These subaccounts will also be used for inventory management so it is really important and accounts (conformed by subaccounts) will be used for financial statements. Keep in mind that your art is to make each catalogue tailored to the users’ business context and specific requests. The end user will first explain you their business model through the messages and you will respond with questions until you know the required information to meet the previously mentioned standards. Be contundent so the user only has to respond 12 questions maximum. This part of the system will only used the first time to set the software operation.”

Third, we let know the model when to let users start recording business operations / transactions. We also ask the model to give the output (accounting entry) in a specific format:

“Second, you will tell the user through the message chat that they can start recording operations/transactions. As you receive each input, you will display the correspondent accounting entry using the accounts of the account catalogue that you generated. You will use debit and credit system for the values impacted of each account. The result you will then display should always comply with this format:

**\ninterface Entry {\n    ID: number,\n    type: string,\n    accIn: string,\n    qty: string,\n    cash: string || string[],\n    accOut: string || string[],\n}\n ”**

Lastly, we give some more context of potential issues that might present and explain what to do in such cases. We also assure that the model always has the drive of complying with regulatory standards:

“Now, if the user is not giving you sufficient information for you to properly determine the accounting entry or the accounts affected you will ask the user for more detailed information specific to the part you are missing. If the operation/ transaction was not considered in the initial accounts catalogue you have to ask the user if the new account wants no be added to the catalogue and that the action is required to continue with the respective recording. You will learn from the way every user uses natural language to record specific transactions which will make you faster and meet detail more easily (always considering the key takeaway of the correct standards used to record transactions within the GAAP and FASB.”

We have to consider further work on the prompt. For this initial iteration we learned two remarkable aspects for improvement:

1. We know the GPT model can be “manipulated” or implanted with wrong logic. This potentialy could let users modify entries/ records that would make the model change or record wrongly. 
2. Also, it seems as if the model sometimes would forget the information that was previously stated in the messages. As this is supposed to work as a transaction recorder the model must always keep in storage /memory all variables, accounts, and values. 

## Prompt Example

Pipeline de 2 pasos:
Paso 1: Geppetto conoce el negocio

System: “Eres Geppetto, eres un auxiliar contable bajo las normas de IFRS…..”
AI: “Tengo un cuestionario para entender bien tu negocio
1. ¿Cuál es tu negocio?
2. ¿Tus proovedores te fian?
3. ¿…
User:”1. Un taller y tienda de Biclas
2. Si, Benotto me deja mercancía y la pago a fin de mes …
3. …”

AI: Okay ya generé tu catálogo de cuentas

{ [0001, Inventario], [00011, Marcos], [0002, Bennotto], … , } 

Paso 2: Geppetto realiza los asientos contables

System: “Eres Geppetto, eres un auxiliar contable bajo las normas de IFRS… y me vas a regresar un objeto de esta forma #FORMA# para cada asiento contable”
User: ”Compré 2 marcos Santa cruz mod. 9182 por $7,000 y pagué con mi tarjeta BBVA”

AI:  ****

“

C:  Inventario (Bicicletas) 7000
D: Bancos (BBVA) 7000

”

## Catálogo de cuentas

**1. ACTIVO**

1.1. Activo Corriente

1.1.1. Caja
1.1.2. Bancos
1.1.3. Inversiones Temporales
1.1.4. Cuentas por Cobrar
1.1.5. Inventario de Bicicletas
1.1.6. Inventario de Accesorios
1.1.7. Inventario de Refacciones
1.1.8. Prepagados (Ej. Rentas o seguros pagados por adelantado)

1.2. Activo No Corriente

1.2.1. Propiedad, Planta y Equipo
1.2.1.1. Edificio Tienda
1.2.1.2. Mobiliario y Equipo
1.2.1.3. Equipo de Computo
1.2.1.4. Vehículos de Entrega

1.2.2. Depreciación Acumulada (contra cuenta)
1.2.3. Intangibles
1.2.3.1. Software de Punto de Venta
1.2.3.2. Licencias
1.2.4. Amortización Acumulada (contra cuenta)

**2. PASIVO**

2.1. Pasivo Corriente

2.1.1. Cuentas por Pagar a Proveedores
2.1.2. Préstamos Bancarios a Corto Plazo
2.1.3. Impuestos por Pagar
2.1.4. Salarios por Pagar

2.2. Pasivo No Corriente

2.2.1. Préstamos Bancarios a Largo Plazo

**3. CAPITAL CONTABLE**

3.1. Capital Social
3.2. Reservas
3.3. Utilidades Retenidas
3.4. Utilidad (o Pérdida) del Ejercicio

**4. INGRESOS**

4.1. Venta de Bicicletas
4.2. Venta de Accesorios
4.3. Venta de Refacciones
4.4. Servicios de Reparación y Mantenimiento

**5. GASTOS**

5.1. Compra de Bicicletas
5.2. Compra de Accesorios
5.3. Compra de Refacciones
5.4. Gastos de Personal
5.5. Renta o Arrendamiento
5.6. Depreciación
5.7. Amortización
5.8. Gastos Generales (agua, luz, teléfono)
5.9. Publicidad y Marketing
5.10. Gastos Bancarios
